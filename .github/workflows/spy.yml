name: Run Single Video Spy

on:
  workflow_dispatch:

jobs:
  spy-job:
    runs-on: ubuntu-latest

    steps:
      - name: Code le kar aao
        uses: actions/checkout@v3

      - name: Python Setup
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: Special Tool Install Karo
        run: pip install pytubefix

      - name: Jasoosi Shuru Karo (Embedded Code)
        shell: python
        run: |
          from pytubefix import YouTube
          import time

          # üëá TARGET VIDEO LINK
          VIDEO_URL = "https://youtube.com/shorts/jtU7-Vnl5Ls?si=vdDKgC_BqmsyOcb3"

          print(f"\nüïµÔ∏è‚Äç‚ôÇÔ∏è Analyzing Video: {VIDEO_URL} ...")

          try:
              yt = YouTube(VIDEO_URL)
              
              # 1. Title
              print(f"\nüé• Title: {yt.title}")
              
              # 2. Description
              desc = yt.description if yt.description else "No description"
              print(f"\nüìù Description Snippet:\n{desc[:200]}...")
              
              # 3. Hidden Tags
              print(f"\nüè∑Ô∏è  HIDDEN TAGS:")
              if yt.keywords:
                  for tag in yt.keywords:
                      print(f"   - {tag}")
              else:
                  print("   (No hidden tags found inside metadata)")
                  
          except Exception as e:
              print(f"‚ùå Error: {e}")
